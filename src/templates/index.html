<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Arena</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/retro.css') }}">
</head>
<body>
    <div class="container">
        <div class="header animate__animated animate__fadeInDown">
            <h1>Rock Paper Scissors Arena</h1>
            <div class="coins">
                <span class="coin-icon">ü™ô</span>
                <span id="coinBalance">100</span>
            </div>
            <div class="stats animate__animated animate__fadeInUp">
                <h3 class="stats-title">Your Stats</h3>
                <div class="stats-grid">
                    <div class="stats-item">
                        <span class="stats-label">Wins</span>
                        <span id="playerWins" class="stats-value">0</span>
                    </div>
                    <div class="stats-item">
                        <span class="stats-label">Losses</span>
                        <span id="playerLosses" class="stats-value">0</span>
                    </div>
                    <div class="stats-item">
                        <span class="stats-label">Draws</span>
                        <span id="playerDraws" class="stats-value">0</span>
                    </div>
                    <div class="stats-item">
                        <span class="stats-label">Total Won</span>
                        <span id="totalCoinsWon" class="stats-value">0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobbyScreen" class="screen active">
            <div class="lobby-content animate__animated animate__fadeIn">
                <button id="createMatchBtn" class="btn glow-effect">
                    <span class="btn-icon">üéÆ</span>
                    Create Match
                </button>
                <div id="createMatchForm" class="animate__animated" style="display: none;">
                    <div class="stake-input-container">
                        <input type="number" id="stakeInput" placeholder="Enter stake amount" min="1" class="btn">
                        <div class="stake-preview">
                            <span class="coin-icon">ü™ô</span>
                            <span id="stakePreview">0</span>
                        </div>
                    </div>
                    <button id="confirmStakeBtn" class="btn glow-effect">
                        <span class="btn-icon">‚ú®</span>
                        Confirm Stake
                    </button>
                </div>
                <h2 class="section-title">Open Matches</h2>
                <div id="matchList" class="match-list">
                    <!-- Match items will be added here dynamically -->
                </div>
            </div>
        </div>

        <!-- Waiting Screen -->
        <div id="waitingScreen" class="screen">
            <div class="waiting-content animate__animated animate__fadeIn">
                <h2>Waiting for opponent...</h2>
                <div class="loading-spinner">
                    <div class="spinner"></div>
                </div>
                <div class="waiting-message">
                    <span class="message-text">Looking for worthy opponents</span>
                    <span class="dots">...</span>
                </div>
            </div>
        </div>

        <!-- Play Screen -->
        <div id="playScreen" class="screen">
            <div class="play-content animate__animated animate__fadeIn">
                <div class="timer-container">
                    <div class="timer" id="moveTimer">10</div>
                    <div class="timer-ring"></div>
                </div>
                <h2 class="battle-text animate__animated animate__pulse animate__infinite">Choose your move!</h2>
                <div class="move-buttons">
                    <button class="btn move-btn animate__animated animate__bounceIn" data-move="rock">
                        <span class="move-icon">‚úä</span>
                        <span class="move-text">Rock</span>
                        <div class="move-effect"></div>
                    </button>
                    <button class="btn move-btn animate__animated animate__bounceIn animate__delay-1s" data-move="paper">
                        <span class="move-icon">‚úã</span>
                        <span class="move-text">Paper</span>
                        <div class="move-effect"></div>
                    </button>
                    <button class="btn move-btn animate__animated animate__bounceIn animate__delay-2s" data-move="scissors">
                        <span class="move-icon">‚úåÔ∏è</span>
                        <span class="move-text">Scissors</span>
                        <div class="move-effect"></div>
                    </button>
                </div>
                <div id="moveStatus" class="status-container">
                    <div id="playerMoveStatus" class="status-message">Waiting for your move...</div>
                    <div id="opponentMoveStatus" class="status-message">Waiting for opponent to move...</div>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="screen">
            <div class="result animate__animated animate__zoomIn">
                <h2 class="result-title">Match Result</h2>
                <div id="resultAnimation" class="result-animation"></div>
                <div id="movesDisplay" class="moves-container">
                    <div id="playerMove" class="move-display animate__animated"></div>
                    <div class="vs animate__animated animate__pulse animate__infinite">VS</div>
                    <div id="opponentMove" class="move-display animate__animated"></div>
                </div>
                <p id="resultText" class="result-message animate__animated"></p>
                <div class="match-stats animate__animated animate__fadeIn animate__delay-1s">
                    <h3>Match Statistics</h3>
                    <div id="matchStats" class="stats-grid"></div>
                </div>
                <div class="action-buttons animate__animated animate__fadeIn animate__delay-2s">
                    <div class="rematch-container">
                        <button id="rematchBtn" class="btn" style="display: none;">
                            <span class="btn-icon">üîÑ</span>
                            Rematch (<span id="rematchTimer">15</span>s)
                        </button>
                        <div id="rematchStatus" class="status-message"></div>
                    </div>
                    <button id="backToLobbyBtn" class="btn">
                        <span class="btn-icon">üè†</span>
                        Back to Lobby
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html>
